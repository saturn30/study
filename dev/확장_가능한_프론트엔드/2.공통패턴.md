# 2. 확장 가능한 프런트엔드 - 공통 패턴

### 유즈케이스

유즈케이스는 애플리케이션이 고수준에서 수행하는 작업을 알려준다. 입력 레이어에 의해 호출되며, 그들의 알고리즘을 적용하고, 도메인 및 인프라 계층이 내부적으로 작동하는 방식에 영향받지 않고 상호작용하며, 결과 상태를 입력 레이어에 다시 전달한다. 결과 상태는 내부 오류, 검증 실패, 전제 조건 등으로 인해 유즈케이스가 실패했는지를 나타냄.

### 엔티티, 값, 개체 및 집계

엔티티는 도메인 계층의 핵심이다. 엔티티는 소프트웨어가 다루는 개념을 나타낸다.

블로그 프로그램을 예로 들면 User, Article 등이 엔티티임.

코드 베이스에서 무언가 엔티티인지 식별하는 방법이 있다. 객체가 도메인 개념을 나타내고 식별자 속성(id 등의 식별 번호)가 있으면 엔티티이다.

엔티티에 비즈니스 로직을 담은 메서드를 갖는 것이 일반적이라고 했지만 프런트엔드에서는 아닐 수 있다. 함수형 프로그래밍을 사용할 때에 엔티티에 메서드를 갖기 힘들다. 함수형 방식으로 해결하자.

### 레포지토리

대부분의 레이어 기반 아키텍처에서 이는 인프라 레이어 내부에 있는 레포지토리의 책임이다. 처리를 담당하는 부분이 합리적으로 캡슐화하고 나머지 코드에 영향을 미치지 않도록 인터페이스로 ㄹ유지해야 함.

### 서비스

이전 패턴에 개념을 맞출 수 없는 경우에만 서비스 생성을 고려해야 한다.

서비스는 도메인 개체에 맞지 않는 절차를 구현하는 개체이다.

예를 들어 전자 상거래를 구축 중이고, 구매 인증 토큰을 가져오기 위해 지불 게이트웨이의 외부 api와 상호작용해야 한다고 하자. 지불 게이트웨이는 도메인 개념이 아니므로 PaymentService에 정의할 수 있다. api 응답 형식과 같은 기술 세부 정보를 공개하지 않는 메서드를 추가하면 소프트웨어와 결제 게이트웨이 간의 상호작용을 수행하기 위한 일반 개체가 캡슐화된다.

서비스는 동일하지 않기 때문에 유즈케이스 대신 만드는 것을 자제해야 함.

### 파일 구성

많은 개발자가 아키텍처와 파일 구성의 차이점을 잘못 이해하고 있다. 후자가 애플리케이션의 아키텍처를 정의한다고 생각한다. 이는 잘못된 것이며, 완벽한 파일 구성에도 불구하고 코드 기반을 통해 여전히 성능 및 유지관리 문제가 생길 수 있다.

파일 구성은 앱의 부분을 시각적으로 분리하는 방법이고 아키텍처는 개념적으로 분리하는 방법이다.

완벽한 파일 구성은 없으므로 취향과 필요에 따라 현명하게 선택해라.
